"use strict";(self.webpackChunkdocusaurus_test=self.webpackChunkdocusaurus_test||[]).push([[6516],{6234:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"guide/Installation/prerequisites","title":"Prerequisites for running llm-d","description":"Note that these are the prerequisites for running the QuickStart Demo.","source":"@site/docs/guide/Installation/prerequisites.md","sourceDirName":"guide/Installation","slug":"/guide/Installation/prerequisites","permalink":"/docs/guide/Installation/prerequisites","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"guideSidebar","previous":{"title":"llm-d User Guide","permalink":"/docs/guide/"},"next":{"title":"Trying llm-d via the Quick Start installer","permalink":"/docs/guide/Installation/quickstart"}}');var r=i(4848),s=i(8453);const l={sidebar_position:1},a="Prerequisites for running llm-d",o={},d=[{value:"Compute Resources",id:"compute-resources",level:2},{value:"Hardware Profiles",id:"hardware-profiles",level:3},{value:"Target Platforms",id:"target-platforms",level:3},{value:"Kubernetes",id:"kubernetes",level:4},{value:"OpenShift",id:"openshift",level:4},{value:"Software prerequisites -- Client Configuration",id:"software-prerequisites----client-configuration",level:2},{value:"Required tools",id:"required-tools",level:3},{value:"Required credentials and configuration",id:"required-credentials-and-configuration",level:3}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"prerequisites-for-running-llm-d",children:"Prerequisites for running llm-d"})}),"\n",(0,r.jsx)(n.p,{children:"**Note that these are the prerequisites for running the QuickStart Demo."}),"\n",(0,r.jsx)(n.h2,{id:"compute-resources",children:"Compute Resources"}),"\n",(0,r.jsx)("a",{name:"hardware"}),"\n",(0,r.jsx)(n.h3,{id:"hardware-profiles",children:"Hardware Profiles"}),"\n",(0,r.jsx)(n.p,{children:"The QuickStart has been tested on:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Minikube on AWS","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"single g6e.12xlarge"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Red Hat OpenShift on AWS","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"6 x m5.4xlarge"}),"\n",(0,r.jsx)(n.li,{children:"2 x g6e.2xlarge"}),"\n",(0,r.jsx)(n.li,{children:"OpenShift 4.17.21"}),"\n",(0,r.jsx)(n.li,{children:"NVIDIA GPU Operator 24.9.2"}),"\n",(0,r.jsx)(n.li,{children:"OpenShift Data Foundation 4.17.6"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"target-platforms",children:"Target Platforms"}),"\n",(0,r.jsx)(n.h4,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,r.jsxs)(n.p,{children:["This can be run on a minimum ec2 node type ",(0,r.jsx)(n.a,{href:"https://aws.amazon.com/ec2/instance-types/g6e/",children:"g6e.12xlarge"})," (4xL40S 48GB but only 2 are used by default) to infer the model meta-llama/Llama-3.2-3B-Instruct that will get spun up."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f If your cluster has no available GPUs, the ",(0,r.jsx)(n.strong,{children:"prefill"})," and ",(0,r.jsx)(n.strong,{children:"decode"})," pods will remain in ",(0,r.jsx)(n.strong,{children:"Pending"})," state."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Verify you have properly installed the container toolkit with the runtime of your choice."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Podman\r\npodman run --rm --security-opt=label=disable --device=nvidia.com/gpu=all ubuntu nvidia-smi\r\n# Docker\r\nsudo docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi\n"})}),"\n",(0,r.jsx)(n.h4,{id:"openshift",children:"OpenShift"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"OpenShift - This quickstart was tested on OpenShift 4.18. Older versions may work but have not been tested."}),"\n",(0,r.jsxs)(n.li,{children:["NVIDIA GPU Operator and NFD Operator - The installation instructions can be found ",(0,r.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/openshift/latest/steps-overview.html",children:"here"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["OpenShift Data Foundation - The installation instructions can be found ",(0,r.jsx)(n.a,{href:"https://docs.redhat.com/en/documentation/red_hat_openshift_data_foundation/4.17/html/deploying_and_managing_openshift_data_foundation_using_red_hat_openstack_platform/deploying_openshift_data_foundation_on_red_hat_openstack_platform_in_internal_mode",children:"here"}),".  OF is not required, but a ReadWriteMany storage class is required."]}),"\n",(0,r.jsx)(n.li,{children:"NO Service Mesh or Istio installation as it will conflict with the gateway"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"software-prerequisites----client-configuration",children:"Software prerequisites -- Client Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"required-tools",children:"Required tools"}),"\n",(0,r.jsx)(n.p,{children:"Following prerequisite are required for the installer to work."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/mikefarah/yq#install",children:"yq \u2013 installation & releases"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://stedolan.github.io/jq/download/",children:"jq \u2013 download & install guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git",children:"git \u2013 installation guide"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm \u2013 quick-start install"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kubectl.docs.kubernetes.io/installation/kustomize/",children:"Kustomize \u2013 official install docs"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl/",children:"kubectl \u2013 install & setup"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"You can use the installer script that installs all the required dependencies.  Currently only Linux is supported."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Currently Linux only\r\n./install-deps.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"required-credentials-and-configuration",children:"Required credentials and configuration"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/neuralmagic/llm-d-deployer.git",children:"llm-d-deployer GitHub repo \u2013 clone here"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://quay.io/",children:"Quay.io Registry \u2013 sign-up & credentials"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://access.redhat.com/registry/",children:"Red Hat Registry \u2013 terms & access"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/hub/en/security-tokens",children:"HuggingFace HF_TOKEN"})," with download access for the model you want to use.  By default the sample application will use ",(0,r.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-3B-Instruct",children:"meta-llama/Llama-3.2-3B-Instruct"}),".","\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u26a0\ufe0f You may need to visit Hugging Face ",(0,r.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-3B-Instruct",children:"meta-llama/Llama-3.2-3B-Instruct"})," and\r\naccept the usage terms to pull this with your HF token if you have not already done so."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Registry Authentication: The installer looks for an auth file in:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"~/.config/containers/auth.json\r\n# or\r\n~/.config/containers/config.json\n"})}),"\n",(0,r.jsx)(n.p,{children:"If not found, you can create one with the following commands:"}),"\n",(0,r.jsx)(n.p,{children:"Create with Docker:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker --config ~/.config/containers/ login quay.io\r\ndocker --config ~/.config/containers/ login registry.redhat.io\n"})}),"\n",(0,r.jsx)(n.p,{children:"Create with Podman:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"podman login quay.io --authfile ~/.config/containers/auth.json\r\npodman login registry.redhat.io --authfile ~/.config/containers/auth.json\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(6540);const r={},s=t.createContext(r);function l(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);