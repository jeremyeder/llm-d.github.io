"use strict";(self.webpackChunkdocusaurus_test=self.webpackChunkdocusaurus_test||[]).push([[6516],{6234:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"guide/Installation/prerequisites","title":"Prerequisites for running the llm-d QuickStart","description":"Target Platforms","source":"@site/docs/guide/Installation/prerequisites.md","sourceDirName":"guide/Installation","slug":"/guide/Installation/prerequisites","permalink":"/docs/guide/Installation/prerequisites","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Prerequisites"},"sidebar":"guideSidebar","previous":{"title":"llm-d User Guide","permalink":"/docs/guide/"},"next":{"title":"Quick Start installer","permalink":"/docs/guide/Installation/quickstart"}}');var s=i(4848),r=i(8453);const l={sidebar_position:1,sidebar_label:"Prerequisites"},a="Prerequisites for running the llm-d QuickStart",o={},c=[{value:"Target Platforms",id:"target-platforms",level:3},{value:"Minikube",id:"minikube",level:4},{value:"OpenShift",id:"openshift",level:4},{value:"Kubernetes",id:"kubernetes",level:4},{value:"OpenShift",id:"openshift-1",level:4},{value:"Software prerequisites -- Client Configuration",id:"software-prerequisites----client-configuration",level:2},{value:"Client Configuration",id:"client-configuration",level:2},{value:"Get the code",id:"get-the-code",level:3},{value:"Required tools",id:"required-tools",level:3},{value:"Required credentials and configuration",id:"required-credentials-and-configuration",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"prerequisites-for-running-the-llm-d-quickstart",children:"Prerequisites for running the llm-d QuickStart"})}),"\n",(0,s.jsx)(n.h3,{id:"target-platforms",children:"Target Platforms"}),"\n",(0,s.jsx)(n.p,{children:"Since the llm-d-deployer is based on helm charts, llm-d can be deployed on a variety of Kubernetes platforms. As more platforms are supported, the installer will be updated to support them."}),"\n",(0,s.jsxs)(n.p,{children:["Documentation for example cluster setups are provided in the ",(0,s.jsx)(n.a,{href:"https://github.com/llm-d/llm-d-deployer/tree/main/quickstart/infra",children:"infra"})," directory of the llm-d-deployer repository."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/llm-d/llm-d-deployer/tree/main/quickstart/infra/openshift-aws.md",children:"OpenShift on AWS"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"minikube",children:"Minikube"}),"\n",(0,s.jsxs)(n.p,{children:["This can be run on a minimum ec2 node type ",(0,s.jsx)(n.a,{href:"https://aws.amazon.com/ec2/instance-types/g6e/",children:"g6e.12xlarge"})," (4xL40S 48GB but only 2 are used by default) to infer the model meta-llama/Llama-3.2-3B-Instruct that will get spun up."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f If your cluster has no available GPUs, the ",(0,s.jsx)(n.strong,{children:"prefill"})," and ",(0,s.jsx)(n.strong,{children:"decode"})," pods will remain in ",(0,s.jsx)(n.strong,{children:"Pending"})," state."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Verify you have properly installed the container toolkit with the runtime of your choice."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Podman\r\npodman run --rm --security-opt=label=disable --device=nvidia.com/gpu=all ubuntu nvidia-smi\r\n# Docker\r\nsudo docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi\n"})}),"\n",(0,s.jsx)(n.h4,{id:"openshift",children:"OpenShift"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenShift - This quickstart was tested on OpenShift 4.17. Older versions may work but have not been tested."}),"\n",(0,s.jsxs)(n.li,{children:["NVIDIA GPU Operator and NFD Operator - The installation instructions can be found ",(0,s.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/openshift/latest/steps-overview.html",children:"here"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"NO Service Mesh or Istio installation as Istio CRDs will conflict with the gateway"}),"\n",(0,s.jsx)(n.li,{children:"Cluster administrator privileges are required to install the llm-d cluster scoped resources"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"kubernetes",children:"Kubernetes"}),"\n",(0,s.jsxs)(n.p,{children:["This can be run on a minimum ec2 node type ",(0,s.jsx)(n.a,{href:"https://aws.amazon.com/ec2/instance-types/g6e/",children:"g6e.12xlarge"})," (4xL40S 48GB but only 2 are used by default) to infer the model meta-llama/Llama-3.2-3B-Instruct that will get spun up."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f If your cluster has no available GPUs, the ",(0,s.jsx)(n.strong,{children:"prefill"})," and ",(0,s.jsx)(n.strong,{children:"decode"})," pods will remain in ",(0,s.jsx)(n.strong,{children:"Pending"})," state."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Verify you have properly installed the container toolkit with the runtime of your choice."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Podman\r\npodman run --rm --security-opt=label=disable --device=nvidia.com/gpu=all ubuntu nvidia-smi\r\n# Docker\r\nsudo docker run --rm --runtime=nvidia --gpus all ubuntu nvidia-smi\n"})}),"\n",(0,s.jsx)(n.h4,{id:"openshift-1",children:"OpenShift"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"OpenShift - This quickstart was tested on OpenShift 4.18. Older versions may work but have not been tested."}),"\n",(0,s.jsxs)(n.li,{children:["NVIDIA GPU Operator and NFD Operator - The installation instructions can be found ",(0,s.jsx)(n.a,{href:"https://docs.nvidia.com/datacenter/cloud-native/openshift/latest/steps-overview.html",children:"here"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"NO Service Mesh or Istio installation as Istio CRDs will conflict with the gateway"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"software-prerequisites----client-configuration",children:"Software prerequisites -- Client Configuration"}),"\n",(0,s.jsx)(n.h2,{id:"client-configuration",children:"Client Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"get-the-code",children:"Get the code"}),"\n",(0,s.jsx)(n.p,{children:"Clone the llm-d-deployer repository."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/llm-d/llm-d-deployer.git\n"})}),"\n",(0,s.jsx)(n.p,{children:"Navigate to the quickstart directory"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd llm-d-deployer/quickstart\n"})}),"\n",(0,s.jsx)(n.h3,{id:"required-tools",children:"Required tools"}),"\n",(0,s.jsx)(n.p,{children:"Following prerequisite are required for the installer to work."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/mikefarah/yq?tab=readme-ov-file#install",children:"yq (mikefarah) \u2013 installation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://stedolan.github.io/jq/download/",children:"jq \u2013 download & install guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://git-scm.com/book/en/v2/Getting-Started-Installing-Git",children:"git \u2013 installation guide"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm \u2013 quick-start install"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://kubectl.docs.kubernetes.io/installation/kustomize/",children:"Kustomize \u2013 official install docs"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://kubernetes.io/docs/tasks/tools/install-kubectl/",children:"kubectl \u2013 install & setup"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"You can use the installer script that installs all the required dependencies.  Currently only Linux is supported."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Currently Linux only\r\n./install-deps.sh\n"})}),"\n",(0,s.jsx)(n.h3,{id:"required-credentials-and-configuration",children:"Required credentials and configuration"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/llm-d/llm-d-deployer.git",children:"llm-d-deployer GitHub repo \u2013 clone here"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://github.com/settings/tokens",children:"ghcr.io Registry \u2013 credentials"}),' You must have a GitHub account and a "classic" personal access token with ',(0,s.jsx)(n.code,{children:"read:packages"})," access to the llm-d-deployer repository."]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://access.redhat.com/registry/",children:"Red Hat Registry \u2013 terms & access"})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://huggingface.co/docs/hub/en/security-tokens",children:"HuggingFace HF_TOKEN"})," with download access for the model you want to use.  By default the sample application will use ",(0,s.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-3B-Instruct",children:"meta-llama/Llama-3.2-3B-Instruct"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["\u26a0\ufe0f Your Hugging Face account must have access to the model you want to use.  You may need to visit Hugging Face ",(0,s.jsx)(n.a,{href:"https://huggingface.co/meta-llama/Llama-3.2-3B-Instruct",children:"meta-llama/Llama-3.2-3B-Instruct"})," and\r\naccept the usage terms if you have not already done so."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Registry Authentication: The installer looks for an auth file in:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"~/.config/containers/auth.json\r\n# or\r\n~/.config/containers/config.json\n"})}),"\n",(0,s.jsx)(n.p,{children:"If not found, you can create one with the following commands:"}),"\n",(0,s.jsx)(n.p,{children:"Create with Docker:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"docker --config ~/.config/containers/ login ghcr.io\n"})}),"\n",(0,s.jsx)(n.p,{children:"Create with Podman:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"podman login ghcr.io --authfile ~/.config/containers/auth.json\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(6540);const s={},r=t.createContext(s);function l(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);